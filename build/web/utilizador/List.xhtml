<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:b="http://bootsfaces.net/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <ui:composition template="/template.xhtml">
        <ui:define name="title">Utilizador</ui:define>
            
        <ui:define name="content">
            <br>
            </br>
            <div class ="content">
                <h:outputText value="Lista de Utilizadores"/>
            </div>
            <h:form styleClass="jsfcrux\d_list_form">
                
                <div class="btn-group right">
                    <h:commandButton class="check btn btn-primary" action="#{utilizadorController.prepareCreate}" value="Criar"/>
                    <button type="button" class="check btn btn-danger" data-toggle="modal" data-target="#exampleModal"><span>Apagar</span></button>
                </div>
                <br />
                
                <h:panelGroup id="messagePanel" layout="block">
                    <h:messages errorStyle="color: red" infoStyle="color: green" layout="table"/>
                </h:panelGroup>
                
                <div>
                    <table id="example" class="display">
                        <thead>
                            <tr>
                                <th class="no-sort" data-index="0">
                                    <h:selectBooleanCheckbox onclick="toggleAll()" />
                                </th>
                                <th data-index="1">Nome</th>
                                <th data-index="2">Password</th>
                                <th data-index="3">E-mail</th>
                                <th data-index="4">NomeCompleto</th>
                                <th data-index="5">DataCriação</th>
                                <th data-index="6">Empresa</th>
                                <th data-index="7">Perfil</th>
                            </tr>
                        </thead>
                    <tbody>
                        <ui:repeat value="#{utilizadorController.items}" var="item">
                            <tr>
                                <td style="text-align:center;">
                                    <h:selectBooleanCheckbox class="check[]" onclick="toggle()" />
                                </td>
                                <td>
                                    #{item.nome}
                                </td>
                                <td>
                                    #{item.password}
                                </td>
                                <td>
                                    #{item.email}
                                </td>
                                <td>
                                    #{item.nomeCompleto}
                                </td>
                                <td>
                                    #{item.dataCriacao}
                                </td>
                                <td>
                                    #{item.empresaid.nome}
                                </td>
                                <td>
                                    #{item.perfilid.nome}
                                </td>
                                <td>
                                    <h:commandLink action="#{utilizadorController.prepareView}" value="#{bundle.ListUtilizadorViewLink}"/>
                                    <h:outputText value=""/>
                                </td>
                            </tr>
                            
                        </ui:repeat>
                    </tbody>
                    </table>  
                </div>
                
            </h:form>
            <!--
            <h:outputScript library ="javascript" name ="checkboxes.js" />
            <h:outputScript library ="javascript" name ="filterUtilizadores.js" />
            !-->
        </ui:define>
    </ui:composition>

</html>